import{O as T,ad as b,z as k,af as A,g as s,ap as B,aC as F,h as L,R as v,M as O,u as W}from"./three.module-8f39f104.js";import{T as G,u as P}from"./tween.esm-f6e4d32f.js";import{O as z}from"./OrbitControls-8206acf3.js";import{_ as I,r as x,o as U,a as V,b as q,c as D,d as H}from"./index-639cdcb3.js";const N={__name:"FlowScene",setup(j){const i=x(null),l=x(null);let m=null;const y=()=>new b,h=t=>{const e=new k(45,t,1,1e3);return e.position.set(10,40,40),e.lookAt(0,0,0),e},R=(t,e)=>new z(t,e),g=(t,e,a)=>{const n=new A({canvas:t,antialias:!0});return n.setSize(e,a),n.setPixelRatio(window.devicePixelRatio),n},C=()=>{const t=[new s(-10,0,0),new s(10,0,0),new s(15,5,0),new s(20,0,5),new s(20,0,15),new s(10,0,20)],e=new B(t),a=new F(e,64,.5,2,!1),n=new L().load("/src/assets/textures/other/arrow.png");n.wrapS=v,n.wrapT=v,n.repeat.set(16,2);const r=new O({map:n,transparent:!0});return new W(a,r)},E=t=>{const e=new G({x:0}).to({x:100}).yoyo(!0).repeat(1/0);e.onUpdate(()=>{t.offset.x-=.015}),e.start()};return U(()=>{const t=i.value,e=l.value,a=e.clientWidth,n=e.clientHeight,r=y(),p=h(a/n),o=g(t,a,n),S=R(p,o.domElement),u=C();r.add(u),E(u.material.map);const d=()=>{S.update(),P(),o.render(r,p),m=window.requestAnimationFrame(d)};d(),V(()=>{o.dispose(),o.forceContextLoss(),r.traverse(w=>{if(w instanceof T){const{geometry:f,material:c}=w;f&&f.dispose();const M=Array.isArray(c)?c:[c];for(const _ of M)_&&_.dispose()}}),window.cancelAnimationFrame(m)})}),(t,e)=>(q(),D("div",{ref_key:"containerElementRef",ref:l,class:"container"},[H("canvas",{ref_key:"canvasElementRef",ref:i},null,512)],512))}},Y=I(N,[["__scopeId","data-v-c876e09e"]]);export{Y as default};
