import{O,V as ne,g as C,f as W,Q as se,ah as re,u as D,M,G as oe,s as ie,w as le,o as ae,aP as ce,h as de,aQ as Ae,ad as me,z as pe,af as ue}from"./three.module-b50c6fca.js";import{O as fe}from"./OrbitControls-a97fbd6e.js";import{g as Q}from"./util-8759745b.js";import{_ as he,r as F,o as xe,a as we,b as ye,c as Se,d as Ee}from"./index-965901d4.js";class ve extends O{constructor(l=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=l,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new ne(.5,.5),this.addEventListener("removed",function(){this.traverse(function(a){a.element instanceof Element&&a.element.parentNode!==null&&a.element.parentNode.removeChild(a.element)})})}copy(l,a){return super.copy(l,a),this.element=l.element.cloneNode(!0),this.center=l.center,this}}const g=new C,X=new W,U=new W,N=new C,L=new C;class ge{constructor(l={}){const a=this;let u,h,S,y;const p={objects:new WeakMap},m=l.element!==void 0?l.element:document.createElement("div");m.style.overflow="hidden",this.domElement=m,this.getSize=function(){return{width:u,height:h}},this.render=function(o,n){o.matrixWorldAutoUpdate===!0&&o.updateMatrixWorld(),n.parent===null&&n.matrixWorldAutoUpdate===!0&&n.updateMatrixWorld(),X.copy(n.matrixWorldInverse),U.multiplyMatrices(n.projectionMatrix,X),A(o,o,n),v(o)},this.setSize=function(o,n){u=o,h=n,S=u/2,y=h/2,m.style.width=o+"px",m.style.height=n+"px"};function A(o,n,t){if(o.isCSS2DObject){g.setFromMatrixPosition(o.matrixWorld),g.applyMatrix4(U);const e=o.visible===!0&&g.z>=-1&&g.z<=1&&o.layers.test(t.layers)===!0;if(o.element.style.display=e===!0?"":"none",e===!0){o.onBeforeRender(a,n,t);const i=o.element;i.style.transform="translate("+-100*o.center.x+"%,"+-100*o.center.y+"%)translate("+(g.x*S+S)+"px,"+(-g.y*y+y)+"px)",i.parentNode!==m&&m.appendChild(i),o.onAfterRender(a,n,t)}const s={distanceToCameraSquared:f(t,o)};p.objects.set(o,s)}for(let e=0,s=o.children.length;e<s;e++)A(o.children[e],n,t)}function f(o,n){return N.setFromMatrixPosition(o.matrixWorld),L.setFromMatrixPosition(n.matrixWorld),N.distanceToSquared(L)}function r(o){const n=[];return o.traverse(function(t){t.isCSS2DObject&&n.push(t)}),n}function v(o){const n=r(o).sort(function(e,s){if(e.renderOrder!==s.renderOrder)return s.renderOrder-e.renderOrder;const i=p.objects.get(e).distanceToCameraSquared,c=p.objects.get(s).distanceToCameraSquared;return i-c}),t=n.length;for(let e=0,s=n.length;e<s;e++)n[e].element.style.zIndex=t-e}}}const Z=new C,Ce=new se,J=new C;class z extends O{constructor(l=document.createElement("div")){super(),this.isCSS3DObject=!0,this.element=l,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(a){a.element instanceof Element&&a.element.parentNode!==null&&a.element.parentNode.removeChild(a.element)})})}copy(l,a){return super.copy(l,a),this.element=l.element.cloneNode(!0),this}}class Be extends z{constructor(l){super(l),this.isCSS3DSprite=!0,this.rotation2D=0}copy(l,a){return super.copy(l,a),this.rotation2D=l.rotation2D,this}}const w=new W,be=new W;class De{constructor(l={}){const a=this;let u,h,S,y;const p={camera:{fov:0,style:""},objects:new WeakMap},m=l.element!==void 0?l.element:document.createElement("div");m.style.overflow="hidden",this.domElement=m;const A=document.createElement("div");A.style.transformOrigin="0 0",A.style.pointerEvents="none",m.appendChild(A);const f=document.createElement("div");f.style.transformStyle="preserve-3d",A.appendChild(f),this.getSize=function(){return{width:u,height:h}},this.render=function(t,e){const s=e.projectionMatrix.elements[5]*y;p.camera.fov!==s&&(A.style.perspective=e.isPerspectiveCamera?s+"px":"",p.camera.fov=s),e.view&&e.view.enabled?(A.style.transform=`translate( ${-e.view.offsetX*(u/e.view.width)}px, ${-e.view.offsetY*(h/e.view.height)}px )`,A.style.transform+=`scale( ${e.view.fullWidth/e.view.width}, ${e.view.fullHeight/e.view.height} )`):A.style.transform="",t.matrixWorldAutoUpdate===!0&&t.updateMatrixWorld(),e.parent===null&&e.matrixWorldAutoUpdate===!0&&e.updateMatrixWorld();let i,c;e.isOrthographicCamera&&(i=-(e.right+e.left)/2,c=(e.top+e.bottom)/2);const d=e.view&&e.view.enabled?e.view.height/e.view.fullHeight:1,E=(e.isOrthographicCamera?`scale( ${d} )scale(`+s+")translate("+r(i)+"px,"+r(c)+"px)"+v(e.matrixWorldInverse):`scale( ${d} )translateZ(`+s+"px)"+v(e.matrixWorldInverse))+"translate("+S+"px,"+y+"px)";p.camera.style!==E&&(f.style.transform=E,p.camera.style=E),n(t,t,e)},this.setSize=function(t,e){u=t,h=e,S=u/2,y=h/2,m.style.width=t+"px",m.style.height=e+"px",A.style.width=t+"px",A.style.height=e+"px",f.style.width=t+"px",f.style.height=e+"px"};function r(t){return Math.abs(t)<1e-10?0:t}function v(t){const e=t.elements;return"matrix3d("+r(e[0])+","+r(-e[1])+","+r(e[2])+","+r(e[3])+","+r(e[4])+","+r(-e[5])+","+r(e[6])+","+r(e[7])+","+r(e[8])+","+r(-e[9])+","+r(e[10])+","+r(e[11])+","+r(e[12])+","+r(-e[13])+","+r(e[14])+","+r(e[15])+")"}function o(t){const e=t.elements;return"translate(-50%,-50%)"+("matrix3d("+r(e[0])+","+r(e[1])+","+r(e[2])+","+r(e[3])+","+r(-e[4])+","+r(-e[5])+","+r(-e[6])+","+r(-e[7])+","+r(e[8])+","+r(e[9])+","+r(e[10])+","+r(e[11])+","+r(e[12])+","+r(e[13])+","+r(e[14])+","+r(e[15])+")")}function n(t,e,s,i){if(t.isCSS3DObject){const c=t.visible===!0&&t.layers.test(s.layers)===!0;if(t.element.style.display=c===!0?"":"none",c===!0){t.onBeforeRender(a,e,s);let d;t.isCSS3DSprite?(w.copy(s.matrixWorldInverse),w.transpose(),t.rotation2D!==0&&w.multiply(be.makeRotationZ(t.rotation2D)),t.matrixWorld.decompose(Z,Ce,J),w.setPosition(Z),w.scale(J),w.elements[3]=0,w.elements[7]=0,w.elements[11]=0,w.elements[15]=1,d=o(w)):d=o(t.matrixWorld);const x=t.element,E=p.objects.get(t);if(E===void 0||E.style!==d){x.style.transform=d;const b={style:d};p.objects.set(t,b)}x.parentNode!==f&&f.appendChild(x),t.onAfterRender(a,e,s)}}for(let c=0,d=t.children.length;c<d;c++)n(t.children[c],e,s)}}}const Me="data:image/jpeg;base64,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";const Qe={__name:"LabelScene",setup(B){let l=null;const a=F(null),u=F(null),h=()=>{const n=new re(1,1,1),t=new D(n,new M({color:Q()}));t.position.set(-.5,0,0);const e=new D(n,new M({color:Q()}));e.position.set(-2,0,-1);const s=new D(n,new M({color:Q()}));s.position.set(2,0,.5);const i=new D(n,new M({color:Q()}));return i.position.set(4,0,1.5),[t,e,s,i]},S=n=>{const t=new oe,e=n.clone(),s=[e,new C(e.x+1,e.y+1,e.z)],i=new ie().setFromPoints(s),c=new le(i,new ae({color:"#fff"}));t.add(c);const d=new ce({map:new de().load(Me)}),x=new Ae(d);return x.scale.set(.6,.3,1),x.position.set(e.x+1,e.y+1,e.z),t.add(x),t},y=()=>{const n=document.createElement("span");return n.textContent="CSS2D标签",n.style.cssText="font-size:14px;color:#fff;",new ve(n)},p=()=>{const n=document.createElement("span");return n.textContent="CSS3DSprite标签",n.style.cssText="font-size:14px;color:#fff;",new Be(n)},m=()=>{const n=document.createElement("span");return n.textContent="CSS3DObject标签",n.style.cssText="font-size:14px;color:#fff;",new z(n)},A=()=>new me,f=n=>{const t=new pe(45,n,1,1e3);return t.position.set(1,1,10),t.lookAt(0,0,0),t},r=(n,t,e)=>{const s=new ue({canvas:n,antialias:!0});return s.setSize(t,e),s.setPixelRatio(window.devicePixelRatio),s},v=(n,t,e)=>{const s=new ge,i=s.domElement;return s.setSize(t,e),i.style.position="absolute",i.style.top="0px",n.appendChild(i),[s,()=>{n.removeChild(i)}]},o=(n,t,e)=>{const s=new De,i=s.domElement;return s.setSize(t,e),i.style.position="absolute",i.style.top="0px",n.appendChild(i),[s,()=>{n.removeChild(i)}]};return xe(()=>{const n=a.value,t=u.value,e=t.clientWidth,s=t.clientHeight,i=A(),c=f(e/s),d=r(n,e,s),[x,E]=v(t,e,s),[b,_]=o(t,e,s),[H,k,T,G]=h();i.add(H),i.add(k),i.add(T),i.add(G);const $=S(H.position);i.add($);const V=y();V.position.set(0,1,0),k.add(V);const R=p();R.position.set(0,1,0),R.scale.set(.018,.018,.018),T.add(R);const P=m();P.position.set(0,1,0),P.scale.set(.018,.018,.018),G.add(P);const ee=new fe(c,b.domElement),j=()=>{ee.update(),d.render(i,c),x.render(i,c),b.render(i,c),l=window.requestAnimationFrame(j)};j(),we(()=>{E(),_(),d.dispose(),d.forceContextLoss(),i.traverse(Y=>{if(Y instanceof O){const{geometry:q,material:I}=Y;q&&q.dispose();const te=Array.isArray(I)?I:[I];for(const K of te)K&&K.dispose()}}),window.cancelAnimationFrame(l)})}),(n,t)=>(ye(),Se("div",{ref_key:"containerElementRef",ref:u,class:"container"},[Ee("canvas",{ref_key:"canvasElementRef",ref:a},null,512)],512))}},Oe=he(Qe,[["__scopeId","data-v-0b243376"]]);export{Oe as default};
