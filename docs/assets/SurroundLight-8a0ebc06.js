import{aa as G,b0 as O,u as d,O as z,ah as T,e as W,aw as I,M,P as y,ad as U,z as q,af as D,ag as H,A as N}from"./three.module-8f39f104.js";import{O as V}from"./OrbitControls-8206acf3.js";import{_ as j,r as x,o as J,a as K,b as Q,c as X,d as Y}from"./index-b85de818.js";const Z={__name:"SurroundLight",setup($){let u=null;const h=x(null),f=x(null),b=()=>{const e=new d(new T(1,1,1),new W({color:"#fff"}));return e.scale.set(20,20,20),e},E=()=>{const e=new I(.5,16,8),t=new d(e,new M({color:"#FFFF00"})),s=new y("#FFFF00",1,100);s.add(t);const n=new d(e,new M({color:"#FF0000"})),o=new y("#FF0000",1,100);return o.add(n),[s,o]},P=()=>new U,R=e=>{const t=new q(45,e,1,1e3);return t.position.set(0,0,120),t.lookAt(0,0,0),t},L=(e,t,s)=>{const n=new D({canvas:e,antialias:!0});return n.setSize(t,s),n.setPixelRatio(window.devicePixelRatio),n.shadowMap.enabled=!0,n};return J(()=>{const e=h.value,t=f.value,s=t.clientWidth,n=t.clientHeight,o=P(),p=R(s/n),c=L(e,s,n),k=new G(100,100,20),S=new O({color:"#fff"}),m=new d(k,S);m.position.set(0,-20,0),m.rotation.x=-Math.PI/2,o.add(m);const w=b();o.add(w);const[_,g]=E();o.add(_),o.add(g);const A=30,B=new H,C=new V(p,c.domElement),v=()=>{const i=B.getElapsedTime(),r=N.degToRad(i*A%360),a=Math.sin(r)*30,l=Math.cos(r)*30;C.update(),w.rotation.y-=.01,_.position.set(a,1,l),g.position.set(-a,1,-l),c.render(o,p),u=window.requestAnimationFrame(v)};v(),K(()=>{c.dispose(),c.forceContextLoss(),o.traverse(i=>{if(i instanceof z){const{geometry:r,material:a}=i;r&&r.dispose();const l=Array.isArray(a)?a:[a];for(const F of l)F&&F.dispose()}}),window.cancelAnimationFrame(u)})}),(e,t)=>(Q(),X("div",{ref_key:"containerElementRef",ref:f,class:"container"},[Y("canvas",{ref_key:"canvasElementRef",ref:h},null,512)],512))}},oe=j(Z,[["__scopeId","data-v-7b24956a"]]);export{oe as default};
