import{O as A,ad as M,z as T,af as k,g as s,ap as B,aC as F,h as L,R as v,M as O,u as W}from"./three.module-8f39f104.js";import{T as G,u as P}from"./tween.esm-f6e4d32f.js";import{O as z}from"./OrbitControls-8206acf3.js";import{a as I}from"./arrow-ce0c96dc.js";import{_ as U,r as y,o as V,a as q,b as D,c as H,d as N}from"./index-7c705545.js";const j={__name:"FlowScene",setup(J){const i=y(null),l=y(null);let m=null;const x=()=>new M,h=t=>{const e=new T(45,t,1,1e3);return e.position.set(10,40,40),e.lookAt(0,0,0),e},R=(t,e)=>new z(t,e),b=(t,e,a)=>{const n=new k({canvas:t,antialias:!0});return n.setSize(e,a),n.setPixelRatio(window.devicePixelRatio),n},C=()=>{const t=[new s(-10,0,0),new s(10,0,0),new s(15,5,0),new s(20,0,5),new s(20,0,15),new s(10,0,20)],e=new B(t),a=new F(e,64,.5,2,!1),n=new L().load(I);n.wrapS=v,n.wrapT=v,n.repeat.set(16,2);const o=new O({map:n,transparent:!0});return new W(a,o)},E=t=>{const e=new G({x:0}).to({x:100}).yoyo(!0).repeat(1/0);e.onUpdate(()=>{t.offset.x-=.015}),e.start()};return V(()=>{const t=i.value,e=l.value,a=e.clientWidth,n=e.clientHeight,o=x(),p=h(a/n),r=b(t,a,n),g=R(p,r.domElement),d=C();o.add(d),E(d.material.map);const u=()=>{g.update(),P(),r.render(o,p),m=window.requestAnimationFrame(u)};u(),q(()=>{r.dispose(),r.forceContextLoss(),o.traverse(w=>{if(w instanceof A){const{geometry:f,material:c}=w;f&&f.dispose();const S=Array.isArray(c)?c:[c];for(const _ of S)_&&_.dispose()}}),window.cancelAnimationFrame(m)})}),(t,e)=>(D(),H("div",{ref_key:"containerElementRef",ref:l,class:"container"},[N("canvas",{ref_key:"canvasElementRef",ref:i},null,512)],512))}},$=U(j,[["__scopeId","data-v-1bb4e25c"]]);export{$ as default};
