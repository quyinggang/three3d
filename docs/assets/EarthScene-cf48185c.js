import{O as b,ad as C,C as S,ae as k,z as A,af as B,h as L,u as M,aw as O,M as D}from"./three.module-8f39f104.js";import{O as F}from"./OrbitControls-8206acf3.js";import{_ as G,r as p,o as P,a as W,b as z,c as j,d as q}from"./index-639cdcb3.js";const H={__name:"EarthScene",setup(I){const c=p(null),i=p(null);let l=null;const h=()=>{const e=new C;return e.background=new S(133412),e.fog=new k(133412,200,1e3),e},w=e=>{const n=new A(45,e,1,1e3);return n.position.set(0,5,600),n.lookAt(0,0,0),n},v=(e,n,t)=>{const a=new B({canvas:e,antialias:!0});return a.setSize(n,t),a.setPixelRatio(window.devicePixelRatio),a},x=(e,n)=>{const t=new F(e,n);return t.minDistance=200,t.maxDistance=400,t},E=()=>{const e=new L;return new M(new O(100,64,64),new D({map:e.load("/src/assets/textures/earth/land_ocean_ice_cloud_2048.jpg")}))};return P(()=>{const e=c.value,n=i.value,t=n.clientWidth,a=n.clientHeight,s=h(),d=w(t/a),r=v(e,t,a),g=x(d,r.domElement),y=E();s.add(y);const m=()=>{g.update(),r.render(s,d),l=window.requestAnimationFrame(m)};m(),W(()=>{r.dispose(),r.forceContextLoss(),s.traverse(u=>{if(u instanceof b){const{geometry:_,material:o}=u;_&&_.dispose();const R=Array.isArray(o)?o:[o];for(const f of R)f&&f.dispose()}}),window.cancelAnimationFrame(l)})}),(e,n)=>(z(),j("div",{ref_key:"containerElementRef",ref:i,class:"container"},[q("canvas",{ref_key:"canvasElementRef",ref:c},null,512)],512))}},V=G(H,[["__scopeId","data-v-b31c7523"]]);export{V as default};
